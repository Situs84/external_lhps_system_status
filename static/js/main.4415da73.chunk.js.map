{"version":3,"sources":["lhplogo.svg","App.js","index.js"],"names":["App","useState","data","setData","isLoaded","setIsLoaded","error","setError","useEffect","fetchStatus","a","fetch","mode","headers","response","json","then","res","toString","interval","setInterval","clearInterval","classes","makeStyles","table","minWidth","Container","maxWidth","className","Box","href","src","lhpLogo","alt","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","style","lineHeight","color","TableBody","map","dataEntry","CircularProgress","theme","createMuiTheme","palette","primary","main","light","dark","contrastText","ReactDOM","render","StrictMode","CssBaseline","document","getElementById"],"mappings":"2XAAe,MAA0B,oC,OC6E1BA,MA7Df,WAAgB,IAAD,EACaC,mBAAS,IADtB,mBACJC,EADI,KACEC,EADF,OAEqBF,oBAAS,GAF9B,mBAEJG,EAFI,KAEMC,EAFN,OAGeJ,mBAAS,MAHxB,mBAGJK,EAHI,KAGGC,EAHH,KAIXC,qBAAU,WAAO,SACEC,IADH,2EACZ,4BAAAC,EAAA,+EAE6BC,MAAM,qCAAsC,CAC7DC,KAAM,OACNC,QAAS,CACL,8BAA+B,OAL/C,cAEYC,EAFZ,gBAQyBA,EAASC,OAAOC,MAAK,SAAAC,GAAG,OAAIA,EAAG,YARxD,cAQQH,EARR,gBAScX,EAAQW,GATtB,yDAYQP,EAA4B,+BAAnB,KAAIW,WAA8C,8BAAgC,KAAIA,YAZvG,2DADY,sBAgBZT,IAAcO,MAAK,WACfX,GAAY,MAEhB,IAAIc,EAAWC,aAAY,kBAAMX,MAAe,KAChD,OAAO,kBAAMY,cAAcF,MAC5B,IACH,IAAMG,EAAUC,YAAW,CACvBC,MAAO,CACHC,SAAU,OAGlB,OACI,eAACC,EAAA,EAAD,CAAWC,SAAU,KAAMC,UAAW,SAAtC,UACI,eAACC,EAAA,EAAD,CAAKD,UAAW,WAAhB,UACI,mBAAGE,KAAM,mBAAT,SAA6B,qBAAKF,UAAW,UAAWG,IAAKC,EAASC,IAAK,WAC3E,uDAEJ7B,IAAaE,EAAQ,cAAC4B,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACjB,eAACC,EAAA,EAAD,CAAOT,UAAWN,EAAQE,MAAOc,aAAY,wBAA7C,UACI,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWC,MAAO,CAACC,WAAY,GAA/B,SAAmC,cAAC,IAAD,CAAuBD,MAAO,CAACE,MAAO,eACzE,cAACH,EAAA,EAAD,sBACA,cAACA,EAAA,EAAD,0BAGR,cAACI,EAAA,EAAD,UACK3C,EAAK4C,KAAI,SAACC,GAAD,OACN,eAACP,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWC,MAAO,CAACC,WAAY,GAA/B,SAAmC,cAAC,IAAD,CAAuBD,MAAO,CAACE,MAAOG,EAAU,QACnF,cAACN,EAAA,EAAD,UAAYM,EAAU,KACtB,cAACN,EAAA,EAAD,UAAYM,EAAU,OAHXA,EAAU,cAQrB,cAACrB,EAAA,EAAD,CAAWE,UAAW,WAAtB,SAAoCtB,EAAiD,yCAAYA,KAArD,cAAC0C,EAAA,EAAD,CAAkBJ,MAAM,oB,wBCjE9FK,EAAQC,YAAe,CACzBC,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,MAAO,UACPC,KAAM,UACNC,aAAc,cAK1BC,IAASC,OACP,eAAC,IAAMC,WAAP,WACI,cAACC,EAAA,EAAD,IACA,cAAC,IAAD,CAAkBX,MAAOA,EAAzB,SACI,cAAC,EAAD,SAGRY,SAASC,eAAe,W","file":"static/js/main.4415da73.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/lhplogo.8c618d94.svg\";","import React, {useState, useEffect} from \"react\";\nimport './App.css';\nimport {\n    Box, CircularProgress,\n    Container,\n    makeStyles, Paper,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow\n} from \"@material-ui/core\";\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport lhpLogo from './lhplogo.svg';\n\nfunction App() {\n    const [data, setData] = useState([]);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [error, setError] = useState(null);\n    useEffect(() => {\n        async function fetchStatus(){\n            try {\n                let response = await fetch('https://statuspages.canora.us/json', {\n                    mode: 'cors',\n                    headers: {\n                        'Access-Control-Allow-Origin': '*',\n                    }\n                });\n                response = await response.json().then(res => res['external']);\n                await setData(response);\n            }\n            catch (err) {\n                setError(err.toString() === \"TypeError: Failed to fetch\" ? \"could not connect to server\" : err.toString());\n            }\n        }\n        fetchStatus().then(() => {\n            setIsLoaded(true);\n        });\n        let interval = setInterval(() => fetchStatus(), 1000*60);\n        return () => clearInterval(interval);\n    }, []);\n    const classes = makeStyles({\n        table: {\n            minWidth: 650,\n        }\n    });\n    return (\n        <Container maxWidth={\"md\"} className={\"m_body\"}>\n            <Box className={\"upperBox\"}>\n                <a href={\"https://lhps.org\"}><img className={\"lhpLogo\"} src={lhpLogo} alt={\"LHPS\"}/></a>\n                <h1>LHPS System Status</h1>\n            </Box>{\n            isLoaded && !error ? <TableContainer component={Paper}>\n                <Table className={classes.table} aria-label={\"External Status Table\"}>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell style={{lineHeight: 0}}><FiberManualRecordIcon style={{color: \"#000000\"}}/></TableCell>\n                            <TableCell>Service</TableCell>\n                            <TableCell>Status</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {data.map((dataEntry) => (\n                            <TableRow key={dataEntry[0]}>\n                                <TableCell style={{lineHeight: 0}}><FiberManualRecordIcon style={{color: dataEntry[2]}}/></TableCell>\n                                <TableCell>{dataEntry[0]}</TableCell>\n                                <TableCell>{dataEntry[1]}</TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer> : <Container className={\"progress\"}>{!error ? <CircularProgress color=\"secondary\" /> : <h2>Error: {error}</h2>}</Container>}\n        </Container>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#C21F33',\n            light: '#FB595D',\n            dark: '#8a000d',\n            contrastText: '#ffffff',\n        },\n    }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n      <CssBaseline/>\n      <MuiThemeProvider theme={theme}>\n          <App/>\n      </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}